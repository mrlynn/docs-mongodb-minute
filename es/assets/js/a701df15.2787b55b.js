"use strict";(self.webpackChunkdocusaurus_template_lab=self.webpackChunkdocusaurus_template_lab||[]).push([["8003"],{5159:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>c,default:()=>h,toc:()=>o,metadata:()=>s,assets:()=>t,contentTitle:()=>d});var s=JSON.parse('{"id":"deployment","title":"\uD83D\uDE80 Deployment Guide","description":"Complete guide for deploying MongoDB Minute to production.","source":"@site/docs/70-deployment.mdx","sourceDirName":".","slug":"/deployment","permalink":"/es/docs/deployment","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":70,"frontMatter":{"sidebar_position":70},"sidebar":"tutorialSidebar","previous":{"title":"\uD83D\uDD0C API Reference","permalink":"/es/docs/api-reference"},"next":{"title":"\uD83D\uDCCB Project Summary","permalink":"/es/docs/project-summary"}}'),l=i(5893),r=i(65);let c={sidebar_position:70},d="\uD83D\uDE80 Deployment Guide",t={},o=[{value:"Pre-Deployment Checklist",id:"pre-deployment-checklist",level:2},{value:"Environment Variables",id:"environment-variables",level:2},{value:"MongoDB Configuration",id:"mongodb-configuration",level:3},{value:"Authentication",id:"authentication",level:3},{value:"Email Service (Gmail SMTP)",id:"email-service-gmail-smtp",level:3},{value:"Application",id:"application",level:3},{value:"Vercel Deployment",id:"vercel-deployment",level:2},{value:"Initial Setup",id:"initial-setup",level:3},{value:"Custom Domain",id:"custom-domain",level:3},{value:"Environment-Specific Variables",id:"environment-specific-variables",level:3},{value:"MongoDB Atlas Setup",id:"mongodb-atlas-setup",level:2},{value:"Database Configuration",id:"database-configuration",level:3},{value:"Create Indexes",id:"create-indexes",level:3},{value:"Email Service Configuration",id:"email-service-configuration",level:2},{value:"Gmail SMTP Setup",id:"gmail-smtp-setup",level:3},{value:"Alternative Email Services",id:"alternative-email-services",level:3},{value:"Security Considerations",id:"security-considerations",level:2},{value:"Production Security",id:"production-security",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Build Optimization",id:"build-optimization",level:3},{value:"Caching Strategy",id:"caching-strategy",level:3},{value:"Monitoring &amp; Analytics",id:"monitoring--analytics",level:2},{value:"Vercel Analytics",id:"vercel-analytics",level:3},{value:"Error Tracking",id:"error-tracking",level:3},{value:"Database Monitoring",id:"database-monitoring",level:3},{value:"Post-Deployment",id:"post-deployment",level:2},{value:"Verification Steps",id:"verification-steps",level:3},{value:"DNS Configuration",id:"dns-configuration",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Build Failures",id:"build-failures",level:3},{value:"Database Connection Issues",id:"database-connection-issues",level:3},{value:"Email Not Sending",id:"email-not-sending",level:3},{value:"Authentication Issues",id:"authentication-issues",level:3},{value:"Rollback Procedure",id:"rollback-procedure",level:2},{value:"Maintenance",id:"maintenance",level:2},{value:"Regular Tasks",id:"regular-tasks",level:3},{value:"Next Steps",id:"next-steps",level:2}];function a(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"-deployment-guide",children:"\uD83D\uDE80 Deployment Guide"})}),"\n",(0,l.jsx)(n.p,{children:"Complete guide for deploying MongoDB Minute to production."}),"\n",(0,l.jsx)(n.h2,{id:"pre-deployment-checklist",children:"Pre-Deployment Checklist"}),"\n",(0,l.jsx)(n.p,{children:"Before deploying, ensure:"}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","All tests passing"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Environment variables documented"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","MongoDB indexes created"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,l.jsx)(n.code,{children:".gitignore"})," includes ",(0,l.jsx)(n.code,{children:".env.local"})]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Production build succeeds (",(0,l.jsx)(n.code,{children:"npm run build"}),")"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Database connection tested"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Authentication working"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Workflow system tested"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,l.jsx)(n.p,{children:"Required environment variables for production:"}),"\n",(0,l.jsx)(n.h3,{id:"mongodb-configuration",children:"MongoDB Configuration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/?retryWrites=true&w=majority\nMONGODB_DB=mongodb_minute\n"})}),"\n",(0,l.jsx)(n.h3,{id:"authentication",children:"Authentication"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"JWT_SECRET=your-secure-random-secret-key\nJWT_EXPIRES_IN=7d\nMAGIC_LINK_EXPIRES_IN=15m\n"})}),"\n",(0,l.jsx)(n.h3,{id:"email-service-gmail-smtp",children:"Email Service (Gmail SMTP)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"EMAIL_HOST=smtp.gmail.com\nEMAIL_PORT=587\nEMAIL_USER=your-email@gmail.com\nEMAIL_PASS=your-app-password\nEMAIL_FROM=noreply@mongodb.com\n"})}),"\n",(0,l.jsx)(n.h3,{id:"application",children:"Application"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"NODE_ENV=production\nNEXT_PUBLIC_BASE_URL=https://your-domain.com\n"})}),"\n",(0,l.jsx)(n.h2,{id:"vercel-deployment",children:"Vercel Deployment"}),"\n",(0,l.jsx)(n.h3,{id:"initial-setup",children:"Initial Setup"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Connect Repository"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Go to ",(0,l.jsx)(n.a,{href:"https://vercel.com/dashboard",children:"Vercel Dashboard"})]}),"\n",(0,l.jsx)(n.li,{children:'Click "Add New Project"'}),"\n",(0,l.jsx)(n.li,{children:"Import your GitHub repository"}),"\n",(0,l.jsx)(n.li,{children:"Select the repository"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Configure Build Settings"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Framework Preset: Next.js"}),"\n",(0,l.jsxs)(n.li,{children:["Root Directory: ",(0,l.jsx)(n.code,{children:"./"})," (or your app directory)"]}),"\n",(0,l.jsxs)(n.li,{children:["Build Command: ",(0,l.jsx)(n.code,{children:"npm run build"})]}),"\n",(0,l.jsxs)(n.li,{children:["Output Directory: ",(0,l.jsx)(n.code,{children:".next"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Add Environment Variables"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Go to Project Settings \u2192 Environment Variables"}),"\n",(0,l.jsx)(n.li,{children:"Add all required variables (see above)"}),"\n",(0,l.jsx)(n.li,{children:"Set for Production, Preview, and Development"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Deploy"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:'Click "Deploy"'}),"\n",(0,l.jsx)(n.li,{children:"Wait for build to complete"}),"\n",(0,l.jsx)(n.li,{children:"Verify deployment URL"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"custom-domain",children:"Custom Domain"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Go to Project Settings \u2192 Domains"}),"\n",(0,l.jsx)(n.li,{children:"Add your custom domain"}),"\n",(0,l.jsx)(n.li,{children:"Follow DNS configuration instructions"}),"\n",(0,l.jsx)(n.li,{children:"Wait for SSL certificate provisioning"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"environment-specific-variables",children:"Environment-Specific Variables"}),"\n",(0,l.jsx)(n.p,{children:"Set different values for:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Production"}),": Live environment"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Preview"}),": Pull request previews"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Development"}),": Local development"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"mongodb-atlas-setup",children:"MongoDB Atlas Setup"}),"\n",(0,l.jsx)(n.h3,{id:"database-configuration",children:"Database Configuration"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Create Cluster"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Log in to ",(0,l.jsx)(n.a,{href:"https://cloud.mongodb.com",children:"MongoDB Atlas"})]}),"\n",(0,l.jsx)(n.li,{children:"Create new cluster (or use existing)"}),"\n",(0,l.jsx)(n.li,{children:"Choose region closest to your deployment"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Create Database User"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Go to Database Access"}),"\n",(0,l.jsx)(n.li,{children:"Create user with read/write permissions"}),"\n",(0,l.jsx)(n.li,{children:"Save credentials securely"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Network Access"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Go to Network Access"}),"\n",(0,l.jsx)(n.li,{children:"Add IP address or allow all (0.0.0.0/0) for Vercel"}),"\n",(0,l.jsx)(n.li,{children:"Vercel IPs change, so consider allowing all"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Get Connection String"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Go to Clusters \u2192 Connect"}),"\n",(0,l.jsx)(n.li,{children:'Choose "Connect your application"'}),"\n",(0,l.jsx)(n.li,{children:"Copy connection string"}),"\n",(0,l.jsxs)(n.li,{children:["Replace ",(0,l.jsx)(n.code,{children:"<password>"})," with your database user password"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"create-indexes",children:"Create Indexes"}),"\n",(0,l.jsx)(n.p,{children:"Run these indexes for optimal performance:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:'// Unique slug for URL routing\ndb.episodes.createIndex({ slug: 1 }, { unique: true })\n\n// Query optimization for admin list\ndb.episodes.createIndex({ status: 1, episodeNumber: 1 })\n\n// Public filtering by category\ndb.episodes.createIndex({ category: 1 })\n\n// Latest episodes query\ndb.episodes.createIndex({ status: 1, createdAt: -1 })\n\n// Workflow stage queries\ndb.episodes.createIndex({ "workflow.currentStage": 1 })\n\n// Review queue queries\ndb.episodes.createIndex({ \n  "workflow.currentStage": 1, \n  "workflow.submittedForReview.timestamp": 1 \n})\n\n// User email lookup\ndb.users.createIndex({ email: 1 }, { unique: true })\n'})}),"\n",(0,l.jsx)(n.h2,{id:"email-service-configuration",children:"Email Service Configuration"}),"\n",(0,l.jsx)(n.h3,{id:"gmail-smtp-setup",children:"Gmail SMTP Setup"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Enable 2-Factor Authentication"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Required for app passwords"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Generate App Password"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Go to Google Account \u2192 Security"}),"\n",(0,l.jsx)(n.li,{children:"Enable 2-Step Verification"}),"\n",(0,l.jsx)(n.li,{children:"Generate App Password"}),"\n",(0,l.jsxs)(n.li,{children:["Use this password in ",(0,l.jsx)(n.code,{children:"EMAIL_PASS"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Test Email Sending"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Verify magic link emails are sent"}),"\n",(0,l.jsx)(n.li,{children:"Check spam folder if needed"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"alternative-email-services",children:"Alternative Email Services"}),"\n",(0,l.jsx)(n.p,{children:"Consider using:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"SendGrid"}),": More reliable for production"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"AWS SES"}),": Cost-effective at scale"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Mailgun"}),": Developer-friendly API"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Update ",(0,l.jsx)(n.code,{children:"lib/email.js"})," accordingly."]}),"\n",(0,l.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,l.jsx)(n.h3,{id:"production-security",children:"Production Security"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Environment Variables"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Never commit ",(0,l.jsx)(n.code,{children:".env.local"})]}),"\n",(0,l.jsx)(n.li,{children:"Use Vercel environment variables"}),"\n",(0,l.jsx)(n.li,{children:"Rotate secrets regularly"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"JWT Secret"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Use strong, random secret"}),"\n",(0,l.jsx)(n.li,{children:"Minimum 32 characters"}),"\n",(0,l.jsx)(n.li,{children:"Different for each environment"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"HTTPS"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Vercel provides SSL automatically"}),"\n",(0,l.jsx)(n.li,{children:"Verify certificate is active"}),"\n",(0,l.jsx)(n.li,{children:"Force HTTPS redirects"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"CORS"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Configure allowed origins"}),"\n",(0,l.jsx)(n.li,{children:"Restrict API access if needed"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Rate Limiting"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Consider adding rate limiting"}),"\n",(0,l.jsx)(n.li,{children:"Protect against abuse"}),"\n",(0,l.jsx)(n.li,{children:"Use Vercel Edge Middleware"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,l.jsx)(n.h3,{id:"build-optimization",children:"Build Optimization"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Enable Turbopack"})," (Next.js 16+)"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Already enabled in config"}),"\n",(0,l.jsx)(n.li,{children:"Faster builds and HMR"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Image Optimization"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Use Next.js Image component"}),"\n",(0,l.jsx)(n.li,{children:"Configure image domains"}),"\n",(0,l.jsx)(n.li,{children:"Enable lazy loading"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Database Connection"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Connection pooling enabled"}),"\n",(0,l.jsx)(n.li,{children:"Reuse connections"}),"\n",(0,l.jsx)(n.li,{children:"Monitor connection count"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"caching-strategy",children:"Caching Strategy"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Static Generation"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Consider ISR for public pages"}),"\n",(0,l.jsx)(n.li,{children:"Revalidate published episodes"}),"\n",(0,l.jsx)(n.li,{children:"Cache at CDN level"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"API Caching"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Cache public episode lists"}),"\n",(0,l.jsx)(n.li,{children:"Don't cache admin endpoints"}),"\n",(0,l.jsx)(n.li,{children:"Use appropriate cache headers"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"monitoring--analytics",children:"Monitoring & Analytics"}),"\n",(0,l.jsx)(n.h3,{id:"vercel-analytics",children:"Vercel Analytics"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Enable Vercel Analytics"}),"\n",(0,l.jsx)(n.li,{children:"Track page views"}),"\n",(0,l.jsx)(n.li,{children:"Monitor performance metrics"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"error-tracking",children:"Error Tracking"}),"\n",(0,l.jsx)(n.p,{children:"Consider integrating:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Sentry"}),": Error tracking"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"LogRocket"}),": Session replay"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Vercel Logs"}),": Built-in logging"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"database-monitoring",children:"Database Monitoring"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Use MongoDB Atlas monitoring"}),"\n",(0,l.jsxs)(n.li,{children:["Set up alerts for:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"High connection count"}),"\n",(0,l.jsx)(n.li,{children:"Slow queries"}),"\n",(0,l.jsx)(n.li,{children:"Storage limits"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"post-deployment",children:"Post-Deployment"}),"\n",(0,l.jsx)(n.h3,{id:"verification-steps",children:"Verification Steps"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Test Authentication"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Request magic link"}),"\n",(0,l.jsx)(n.li,{children:"Verify email delivery"}),"\n",(0,l.jsx)(n.li,{children:"Complete login flow"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Test Workflow"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Create test episode"}),"\n",(0,l.jsx)(n.li,{children:"Submit for review"}),"\n",(0,l.jsx)(n.li,{children:"Approve episode"}),"\n",(0,l.jsx)(n.li,{children:"Verify workflow history"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Test Public Site"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Browse episodes"}),"\n",(0,l.jsx)(n.li,{children:"Test search/filter"}),"\n",(0,l.jsx)(n.li,{children:"Verify episode detail pages"}),"\n",(0,l.jsx)(n.li,{children:"Check social links"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Test Admin Features"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Access dashboard"}),"\n",(0,l.jsx)(n.li,{children:"Create/edit episodes"}),"\n",(0,l.jsx)(n.li,{children:"Generate QR codes"}),"\n",(0,l.jsx)(n.li,{children:"Update settings"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"dns-configuration",children:"DNS Configuration"}),"\n",(0,l.jsx)(n.p,{children:"If using custom domain:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Add DNS Records"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["CNAME: ",(0,l.jsx)(n.code,{children:"www"})," \u2192 ",(0,l.jsx)(n.code,{children:"cname.vercel-dns.com"})]}),"\n",(0,l.jsxs)(n.li,{children:["A Record: ",(0,l.jsx)(n.code,{children:"@"})," \u2192 Vercel IP (if needed)"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Verify SSL"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Wait for certificate provisioning"}),"\n",(0,l.jsx)(n.li,{children:"Test HTTPS connection"}),"\n",(0,l.jsx)(n.li,{children:"Verify certificate validity"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(n.h3,{id:"build-failures",children:"Build Failures"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Issue"}),": Build fails on Vercel"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Check build logs for errors"}),"\n",(0,l.jsx)(n.li,{children:"Verify Node.js version (18+)"}),"\n",(0,l.jsxs)(n.li,{children:["Ensure all dependencies are in ",(0,l.jsx)(n.code,{children:"package.json"})]}),"\n",(0,l.jsx)(n.li,{children:"Check environment variables are set"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"database-connection-issues",children:"Database Connection Issues"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Issue"}),": Cannot connect to MongoDB"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Verify ",(0,l.jsx)(n.code,{children:"MONGODB_URI"})," is correct"]}),"\n",(0,l.jsx)(n.li,{children:"Check network access in Atlas"}),"\n",(0,l.jsx)(n.li,{children:"Verify database user permissions"}),"\n",(0,l.jsx)(n.li,{children:"Test connection string locally"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"email-not-sending",children:"Email Not Sending"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Issue"}),": Magic links not received"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Verify Gmail app password"}),"\n",(0,l.jsx)(n.li,{children:"Check spam folder"}),"\n",(0,l.jsxs)(n.li,{children:["Verify ",(0,l.jsx)(n.code,{children:"EMAIL_FROM"})," address"]}),"\n",(0,l.jsx)(n.li,{children:"Test email service configuration"}),"\n",(0,l.jsx)(n.li,{children:"Consider using alternative service"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"authentication-issues",children:"Authentication Issues"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Issue"}),": Login not working"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Verify JWT secret is set"}),"\n",(0,l.jsx)(n.li,{children:"Check cookie settings"}),"\n",(0,l.jsx)(n.li,{children:"Verify email domain restriction"}),"\n",(0,l.jsx)(n.li,{children:"Check middleware configuration"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"rollback-procedure",children:"Rollback Procedure"}),"\n",(0,l.jsx)(n.p,{children:"If deployment has issues:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Vercel Rollback"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Go to Deployments"}),"\n",(0,l.jsx)(n.li,{children:"Find previous successful deployment"}),"\n",(0,l.jsx)(n.li,{children:'Click "Promote to Production"'}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Database Rollback"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Restore from backup if needed"}),"\n",(0,l.jsx)(n.li,{children:"Use MongoDB Atlas point-in-time restore"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Environment Variables"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Revert to previous values"}),"\n",(0,l.jsx)(n.li,{children:"Verify configuration"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"maintenance",children:"Maintenance"}),"\n",(0,l.jsx)(n.h3,{id:"regular-tasks",children:"Regular Tasks"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Update Dependencies"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Check for security updates"}),"\n",(0,l.jsx)(n.li,{children:"Test updates in staging"}),"\n",(0,l.jsx)(n.li,{children:"Deploy updates regularly"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Database Maintenance"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Monitor storage usage"}),"\n",(0,l.jsx)(n.li,{children:"Archive old episodes if needed"}),"\n",(0,l.jsx)(n.li,{children:"Optimize indexes"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Backup Strategy"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Enable MongoDB Atlas backups"}),"\n",(0,l.jsx)(n.li,{children:"Regular database exports"}),"\n",(0,l.jsx)(n.li,{children:"Document restore procedures"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Review ",(0,l.jsx)(n.a,{href:"/docs/summary",children:"Project Summary"})," for architecture"]}),"\n",(0,l.jsxs)(n.li,{children:["Check ",(0,l.jsx)(n.a,{href:"/docs/api-reference",children:"API Reference"})," for integration"]}),"\n",(0,l.jsxs)(n.li,{children:["Explore ",(0,l.jsx)(n.a,{href:"/docs/admin-features",children:"Admin Features"})," for usage"]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}}}]);